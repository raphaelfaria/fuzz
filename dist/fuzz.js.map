{"version":3,"sources":["fuzz.js","src/cache.js","src/item.js","src/result.js","src/result-item.js","src/fuzz.js"],"names":[],"mappings":"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","file":"fuzz.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.Fuzz = factory()\n}(this, function () { 'use strict';\n\n  class Cache {\n    construct() {\n      this.arr = null;\n      this.query = null;\n    }\n\n    clean() {\n      this.arr = null;\n      this.query = null;\n    }\n\n    check(query) {\n      if (!this.query || !query) {\n        return false;\n      }\n\n      if (query.length < this.query.length) {\n        return false;\n      }\n\n      if (query === this.query) {\n        return true;\n      }\n\n      if (query.indexOf(this.query) === 0) {\n        return true;\n      }\n\n      return false;\n    }\n  }\n\n  function isUpper(char) {\n    return char.toUpperCase() === char;\n  }\n\n  function nonWordChar(char) {\n    return /\\W/.test(char);\n  }\n\n  function indexIsSectionStart(string, index) {\n    return index >= 0 &&\n      index === 0 ||\n      (index === 1 && isUpper(string[index])) ||\n      isUpper(string[index]) || nonWordChar(string[index - 1]);\n  }\n\n  function calculateWeight(name, substringSize, matchIndex, lastMatchIndex) {\n    const isSectionStart = indexIsSectionStart(name, matchIndex);\n\n    let weight = 0;\n\n    if (isSectionStart) {\n      weight += 85;\n    }\n\n    if (substringSize > 1) {\n      weight += 50 + 14 * (substringSize - 1);\n    }\n\n    if (lastMatchIndex >= 0 && matchIndex - lastMatchIndex > 0) {\n      weight -= (matchIndex - lastMatchIndex);\n    }\n\n    return weight;\n  }\n\n  class Item {\n    constructor(name, index) {\n      this.name = name;\n      this.mainIndex = index;\n    }\n\n    calcMatch(query) {\n      if (query.length > this.name.length) {\n        return false;\n      }\n\n      const matchIndexArr = [];\n      const ql = query.length;\n      const nl = this.name.length;\n      const lowerTestName = this.name.toLowerCase();\n\n      let searchIndex = 0;\n\n      for (let i = 0; i < ql; i++) {\n        const currentChar = query[i];\n\n        if (searchIndex >= nl) return false;\n\n        searchIndex = lowerTestName.indexOf(currentChar, searchIndex);\n\n        if (searchIndex === -1) {\n          return false;\n        }\n\n        matchIndexArr.push(searchIndex++);\n      }\n\n      let substringSize = 1;\n\n      let weight = matchIndexArr.reduce((w, matchIndex, index, arr) => {\n        let tempWeight = w;\n\n        if (arr[index - 1] === matchIndex - 1) {\n          substringSize++;\n        } else {\n          substringSize = 1;\n        }\n\n        tempWeight += calculateWeight(\n          this.name,\n          substringSize,\n          matchIndex,\n          arr[index - 1]\n        );\n\n        return tempWeight;\n      }, 0);\n\n      const lastIndexDiff = nl - matchIndexArr[matchIndexArr.length - 1] - 1;\n\n      weight = weight - Math.round(matchIndexArr[0] * 1.2) - lastIndexDiff;\n\n      return weight > 0 ? weight : 0;\n    }\n  }\n\n  function sortByWeight(a, b) {\n    return b.weight - a.weight;\n  }\n\n  class Result extends Array {\n    constructor(items) {\n      super();\n\n      if (!items.length) {\n        return false;\n      }\n\n      this.meta = items.sort(sortByWeight);\n      super.push.apply(this, this.meta.map(resultItem => resultItem.item.name));\n    }\n  }\n\n  class ResultItem {\n    constructor(item, weight) {\n      this.item = item;\n      this.weight = weight;\n    }\n  }\n\n  function isArray(item) {\n    if (Array.isArray) return Array.isArray(item);\n    return /array/i.test(Object.prototype.toString.call(item));\n  }\n\n  class Fuzz extends Array {\n    constructor(collection, options) {\n      super();\n\n      if (!isArray(collection)) {\n        throw new Error('Argument to Fuzz should be an array');\n      }\n\n      this.push.apply(this, collection);\n      this.main = this._prepareCollection();\n      this.options = Object.assign({\n        disableCache: false,\n      }, options);\n      this.cache = new Cache();\n    }\n\n    parse(item) {\n      return item;\n    }\n\n    _prepareCollection() {\n      return this.map((item, i) => {\n        if (typeof item !== 'string') {\n          throw new Error('Argument to Fuzz should be an array of strings');\n        }\n\n        return new Item(this.parse(item), i);\n      });\n    }\n\n    match(string) {\n      const query = string.replace(/\\s+/g, '').toLowerCase();\n      const cached = !this.options.disableCache && this.cache.check(query);\n\n      let searchArray = this.main;\n\n      if (cached) {\n        searchArray = this.cache.arr;\n      } else {\n        this.cache.clean();\n      }\n\n      const resultArray = searchArray.reduce((arr, item) => {\n        const searchItem = cached ? item.item : item;\n\n        const weight = searchItem.calcMatch(query);\n\n        if (weight !== false) {\n          arr.push(new ResultItem(searchItem, weight));\n        }\n\n        return arr;\n      }, []);\n\n      this.cache.arr = resultArray;\n      this.cache.query = query;\n\n      return new Result(resultArray);\n    }\n\n    simpleMatch(string) {\n      const queryRegex = new RegExp(string.split('').join('.*?'), 'i');\n      return this.filter(item => {\n        return queryRegex.test(item);\n      });\n    }\n\n    static match(string, collection) {\n      return (new Fuzz(collection, { disableCache: true })).match(string);\n    }\n  }\n\n  var fuzz = Fuzz;\n\n  return fuzz;\n\n}));\n","export default class Cache {\n  construct() {\n    this.arr = null;\n    this.query = null;\n  }\n\n  clean() {\n    this.arr = null;\n    this.query = null;\n  }\n\n  check(query) {\n    if (!this.query || !query) {\n      return false;\n    }\n\n    if (query.length < this.query.length) {\n      return false;\n    }\n\n    if (query === this.query) {\n      return true;\n    }\n\n    if (query.indexOf(this.query) === 0) {\n      return true;\n    }\n\n    return false;\n  }\n}\n","function isUpper(char) {\n  return char.toUpperCase() === char;\n}\n\nfunction nonWordChar(char) {\n  return /\\W/.test(char);\n}\n\nfunction indexIsSectionStart(string, index) {\n  return index >= 0 &&\n    index === 0 ||\n    (index === 1 && isUpper(string[index])) ||\n    isUpper(string[index]) || nonWordChar(string[index - 1]);\n}\n\nfunction calculateWeight(name, substringSize, matchIndex, lastMatchIndex) {\n  const isSectionStart = indexIsSectionStart(name, matchIndex);\n\n  let weight = 0;\n\n  if (isSectionStart) {\n    weight += 85;\n  }\n\n  if (substringSize > 1) {\n    weight += 50 + 14 * (substringSize - 1);\n  }\n\n  if (lastMatchIndex >= 0 && matchIndex - lastMatchIndex > 0) {\n    weight -= (matchIndex - lastMatchIndex);\n  }\n\n  return weight;\n}\n\nclass Item {\n  constructor(name, index) {\n    this.name = name;\n    this.mainIndex = index;\n  }\n\n  calcMatch(query) {\n    if (query.length > this.name.length) {\n      return false;\n    }\n\n    const matchIndexArr = [];\n    const ql = query.length;\n    const nl = this.name.length;\n    const lowerTestName = this.name.toLowerCase();\n\n    let searchIndex = 0;\n\n    for (let i = 0; i < ql; i++) {\n      const currentChar = query[i];\n\n      if (searchIndex >= nl) return false;\n\n      searchIndex = lowerTestName.indexOf(currentChar, searchIndex);\n\n      if (searchIndex === -1) {\n        return false;\n      }\n\n      matchIndexArr.push(searchIndex++);\n    }\n\n    let substringSize = 1;\n\n    let weight = matchIndexArr.reduce((w, matchIndex, index, arr) => {\n      let tempWeight = w;\n\n      if (arr[index - 1] === matchIndex - 1) {\n        substringSize++;\n      } else {\n        substringSize = 1;\n      }\n\n      tempWeight += calculateWeight(\n        this.name,\n        substringSize,\n        matchIndex,\n        arr[index - 1]\n      );\n\n      return tempWeight;\n    }, 0);\n\n    const lastIndexDiff = nl - matchIndexArr[matchIndexArr.length - 1] - 1;\n\n    weight = weight - Math.round(matchIndexArr[0] * 1.2) - lastIndexDiff;\n\n    return weight > 0 ? weight : 0;\n  }\n}\n\nexport default Item;\n","function sortByWeight(a, b) {\n  return b.weight - a.weight;\n}\n\nexport default class Result extends Array {\n  constructor(items) {\n    super();\n\n    if (!items.length) {\n      return false;\n    }\n\n    this.meta = items.sort(sortByWeight);\n    super.push.apply(this, this.meta.map(resultItem => resultItem.item.name));\n  }\n}\n","export default class ResultItem {\n  constructor(item, weight) {\n    this.item = item;\n    this.weight = weight;\n  }\n}\n","import Cache from './cache';\nimport Item from './item';\nimport Result from './result';\nimport ResultItem from './result-item';\n\nfunction isArray(item) {\n  if (Array.isArray) return Array.isArray(item);\n  return /array/i.test(Object.prototype.toString.call(item));\n}\n\nclass Fuzz extends Array {\n  constructor(collection, options) {\n    super();\n\n    if (!isArray(collection)) {\n      throw new Error('Argument to Fuzz should be an array');\n    }\n\n    this.push.apply(this, collection);\n    this.main = this._prepareCollection();\n    this.options = Object.assign({\n      disableCache: false,\n    }, options);\n    this.cache = new Cache();\n  }\n\n  parse(item) {\n    return item;\n  }\n\n  _prepareCollection() {\n    return this.map((item, i) => {\n      if (typeof item !== 'string') {\n        throw new Error('Argument to Fuzz should be an array of strings');\n      }\n\n      return new Item(this.parse(item), i);\n    });\n  }\n\n  match(string) {\n    const query = string.replace(/\\s+/g, '').toLowerCase();\n    const cached = !this.options.disableCache && this.cache.check(query);\n\n    let searchArray = this.main;\n\n    if (cached) {\n      searchArray = this.cache.arr;\n    } else {\n      this.cache.clean();\n    }\n\n    const resultArray = searchArray.reduce((arr, item) => {\n      const searchItem = cached ? item.item : item;\n\n      const weight = searchItem.calcMatch(query);\n\n      if (weight !== false) {\n        arr.push(new ResultItem(searchItem, weight));\n      }\n\n      return arr;\n    }, []);\n\n    this.cache.arr = resultArray;\n    this.cache.query = query;\n\n    return new Result(resultArray);\n  }\n\n  simpleMatch(string) {\n    const queryRegex = new RegExp(string.split('').join('.*?'), 'i');\n    return this.filter(item => {\n      return queryRegex.test(item);\n    });\n  }\n\n  static match(string, collection) {\n    return (new Fuzz(collection, { disableCache: true })).match(string);\n  }\n}\n\nexport default Fuzz;\n"],"sourceRoot":"/source/"}